<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>QuizPlay — Math Quiz (From Images)</title>
<style>
  :root{
    --bg:#071428; --card:#0b1220; --muted:#98a0b3;
    --accent:#6ee7b7; --accent-2:#60a5fa; --glass: rgba(255,255,255,0.04);
    --success: #10b981; --danger: #ef4444;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:#e6eef8;
    background:linear-gradient(180deg,#071025 0%, #081322 60%);-webkit-font-smoothing:antialiased}
  .wrap{max-width:980px;margin:32px auto;padding:24px}
  header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px;gap:12px}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:54px;height:54px;border-radius:12px;display:flex;align-items:center;justify-content:center;
    background:linear-gradient(135deg,var(--accent-2),var(--accent));box-shadow:0 6px 18px rgba(100,120,200,0.12);
    color:#03203b;font-weight:700;font-size:20px;}
  h1{margin:0;font-size:18px;color:#eaf6ff}
  .controls{display:flex;gap:10px;align-items:center}
  .btn{background:var(--glass);border:1px solid rgba(255,255,255,0.06);padding:10px 14px;border-radius:10px;
    color:#d9eefc;cursor:pointer;font-weight:600;backdrop-filter: blur(6px);transition:all .18s ease;}
  .btn:hover{transform:translateY(-3px);box-shadow:0 12px 30px rgba(2,6,23,.45)}
  .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#042433;border:none;
    box-shadow:0 8px 24px rgba(96,165,250,0.12)}
  .status{display:flex;gap:10px;align-items:center;color:var(--muted);font-weight:600}
  main.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;padding:20px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 10px 40px rgba(2,6,23,.6)}
  .topbar{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
  .progress{height:12px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden;flex:1;margin-left:10px}
  .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width .35s ease}
  .question-area{display:grid;grid-template-columns: 1fr;gap:18px}
  .qcard{background:rgba(255,255,255,0.02);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}
  .qnum{color:var(--muted);font-size:13px;margin-bottom:6px}
  .qtext{font-size:20px;color:#e6f7ff;line-height:1.35}
  .choices{display:grid;gap:10px;margin-top:14px}
  .choice{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
    border-radius:12px;padding:12px 14px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;display:flex;align-items:center;gap:12px;transition:all .18s;user-select:none;}
  .choice:hover{transform:translateY(-4px);box-shadow:0 10px 24px rgba(2,6,23,.5)}
  .choice .lbl{font-weight:700;color:#eaf6ff}
  .choice.correct{border-color:rgba(16,185,129,0.18);background:linear-gradient(90deg, rgba(16,185,129,0.06), rgba(96,165,250,0.02))}
  .choice.wrong{border-color:rgba(239,68,68,0.14);background:linear-gradient(90deg, rgba(239,68,68,0.04), rgba(255,255,255,0.01))}
  .meta{display:flex;align-items:center;gap:12px;margin-top:12px}
  .meta .small{color:var(--muted);font-weight:700}
  .footer{display:flex;justify-content:space-between;align-items:center;margin-top:18px;gap:12px}
  .ghost{background:transparent;border:1px dashed rgba(255,255,255,0.03);padding:10px 12px;border-radius:10px;color:var(--muted)}
  .pill{padding:8px 12px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--muted);font-weight:700}
  .modal-back{position:fixed;inset:0;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(2,6,23,0.6));display:none;align-items:center;justify-content:center;padding:20px;z-index:80}
  .modal{width:100%;max-width:720px;background:#071428;border-radius:14px;padding:22px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 30px 80px rgba(2,6,23,.8)}
  .stat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
  .stat{background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.008));padding:14px;border-radius:10px;text-align:center}
  .stat h3{margin:0;color:var(--accent);font-size:20px}
  .stat p{margin:6px 0 0;color:var(--muted);font-weight:700}
  .leaderboard{margin-top:20px}
  .leaderboard h3{margin-bottom:8px;color:#eaf6ff}
  .leaderboard table{width:100%;border-collapse:collapse}
  .leaderboard th,.leaderboard td{padding:8px 10px;border-bottom:1px solid rgba(255,255,255,0.04);text-align:left;color:var(--muted)}
  .leaderboard tr:nth-child(1) td{color:var(--accent)}
  .close{margin-left:12px;background:transparent;border:none;color:var(--muted);font-weight:800;cursor:pointer}
  @keyframes pop{0%{transform:scale(.96);opacity:0}100%{transform:scale(1);opacity:1}}
</style>
</head>
<body>
  <div class="wrap" id="nameScreen">
    <main class="card">
      <div style="text-align:center;margin-top:40px;">
        <h2 style="color:#eaf6ff">Welcome to QuizPlay!</h2>
        <p style="color:var(--muted)">Enter your name to start and appear on the leaderboard.</p>
        <input id="playerName" placeholder="Your name" style="padding:12px 16px;border-radius:10px;border:none;width:80%;max-width:320px;text-align:center;font-size:16px">
        <div style="margin-top:20px;">
          <button class="btn primary" id="startBtn">Start Game</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Game UI (hidden until name entered) -->
  <div class="wrap" id="gameUI" style="display:none;">
    <header>
      <div class="brand">
        <div class="logo">Q</div>
        <div>
          <h1>QuizPlay — Math Challenge</h1>
          <div style="color:var(--muted);font-size:13px">Questions based on your provided topics.</div>
        </div>
      </div>

      <div class="controls">
        <div class="status"><span class="badge" id="scoreBadge">Score: 0</span></div>
        <button class="btn" id="btnReset">Reset</button>
        <button class="btn" id="btnDone">Done</button>
        <button class="btn primary" id="btnPlay">Play</button>
      </div>
    </header>

    <main class="card">
      <div class="topbar">
        <div style="display:flex;align-items:center;gap:10px">
          <div class="pill" id="qProgress">Question 0 / 0</div>
          <div class="qnum" id="timeElapsed">Time: 00:00</div>
        </div>
        <div style="display:flex;align-items:center;gap:10px">
          <div class="small" style="color:var(--muted)">Accuracy</div>
          <div style="width:140px">
            <div class="progress"><i id="progressBar"></i></div>
          </div>
        </div>
      </div>

      <section class="question-area">
        <div class="qcard" id="startCard">
          <div style="text-align:center;padding:30px 0;">
            <h3>Welcome, <span id="playerLabel"></span>!</h3>
            <p style="color:var(--muted)">Click <strong>Play</strong> to begin. Good luck!</p>
          </div>
        </div>

        <div class="qcard" id="qCard" style="display:none;">
          <div class="qnum" id="qnum">Question</div>
          <div class="qtext" id="qtext">Question text...</div>
          <div class="choices" id="choices"></div>
        </div>
      </section>
    </main>
  </div>

  <div class="modal-back" id="modal">
    <div class="modal">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <h2>Game Summary</h2>
        <button class="close" id="closeModal">×</button>
      </div>
      <div class="stat-grid">
        <div class="stat"><h3 id="sumScore">0</h3><p>Score</p></div>
        <div class="stat"><h3 id="sumAcc">0%</h3><p>Accuracy</p></div>
        <div class="stat"><h3 id="sumTime">0s</h3><p>Time</p></div>
      </div>

      <div class="leaderboard" id="leaderboard">
        <h3>Leaderboard</h3>
        <table><thead><tr><th>Rank</th><th>Name</th><th>Score</th><th>Accuracy</th></tr></thead>
          <tbody id="leaderRows"></tbody>
        </table>
      </div>
    </div>
  </div>

<script>
const QUESTIONS = [
  {q:"Volume of a triangular pyramid 84m³ base 14m². Height?",choices:["12m","14m","16m","18m"],answerIndex:3},
  {q:"Triangular glass pyramid base 24cm² height 9cm. Volume?",choices:["54","72","108","216"],answerIndex:1},
  {q:"Pyramid with base 60m² height 15m. Volume?",choices:["200","250","300","900"],answerIndex:2},
  {q:"Cone volume is how many times smaller than same base cylinder?",choices:["Twice","Half","One-third","Same"],answerIndex:2},
  {q:"Formula for volume of cone?",choices:["πr²h","½πr²h","⅓πr²h","4/3πr³"],answerIndex:2},
  {q:"Volume of cone r=3cm h=9cm?",choices:["84.78","84.82","75.36","101.52"],answerIndex:1},
  {q:"Volume of sphere r=4cm?",choices:["201.06","268.08","335.10","402.12"],answerIndex:1},
  {q:"Volume of any pyramid is?",choices:["Equal to prism","Half of prism","One-third of prism","Twice of prism"],answerIndex:2},
  {q:"Formula for triangular pyramid?",choices:["½Bh","⅓Bh","Bh","⅔Bh"],answerIndex:1},
  {q:"If height doubled, base same, volume?",choices:["Doubles","1/3","Same","Half"],answerIndex:0},
  {q:"Distance formula?",choices:["√((x2-x1)²+(y2-y1)²)","((x1+x2)/2,(y1+y2)/2)","(x2-x1)+(y2-y1)","(x1-y1)+(x2-y2)"],answerIndex:0},
  {q:"Distance between (2,3) and (5,7)?",choices:["3","4","5","6"],answerIndex:2},
  {q:"Cartesian plane is?",choices:["Number line","Plane with 4 quadrants","Flat vertical line","Graph of angles"],answerIndex:1},
  {q:"Where x and y axes intersect?",choices:["Quadrant","Slope","Origin","Axis"],answerIndex:2},
  {q:"True about Cartesian plane?",choices:["2 quadrants","Y-axis horizontal","Formed by 2 perpendicular lines","Origin (1,1)"],answerIndex:2},
  {q:"Vendor bought 50 mangoes ₱15 sold ₱20. Profit?",choices:["150","200","250","300"],answerIndex:2},
  {q:"Best buy for juice?",choices:["250ml₱25","500ml₱45","1000ml₱90","1000ml₱120"],answerIndex:1},
  {q:"Cellphone ₱12k cash. Installment ₱3k down + ₱1k×10 months = ?",choices:["12k","13k","14k","15k"],answerIndex:1},
  {q:"Triangle sides 7,12,?. Possible third?",choices:["3","5","10","20"],answerIndex:2},
  {q:"Which cannot form triangle?",choices:["6,7,10","4,4,8","5,5,9","3,5,7"],answerIndex:1},
  {q:"Longest side opposite?",choices:["Smallest angle","Largest angle","Smallest side","Equal"],answerIndex:1},
  {q:"Triangle 8,15,17. Largest angle opposite?",choices:["8","15","17","Equal"],answerIndex:2},
  {q:"Triangle angles 45°,75°,?. Longest side?",choices:["Opp 45°","Opp 75°","Opp remaining","Equal"],answerIndex:1},
  {q:"Pythagorean theorem?",choices:["a²+b²=c","a+b=c²","a²+b²=c²","a²-b²=c²"],answerIndex:2},
  {q:"Right triangle legs 6,8. Hypotenuse?",choices:["10","12","14","16"],answerIndex:0},
  {q:"Hypotenuse 13, leg 5. Other leg?",choices:["10","11","12","14"],answerIndex:2},
  {q:"Ladder 15ft, bottom 9ft. Height?",choices:["10","11","12","13"],answerIndex:2}
];

const nameScreen=document.getElementById("nameScreen");
const gameUI=document.getElementById("gameUI");
const startBtn=document.getElementById("startBtn");
const playerNameInput=document.getElementById("playerName");
const playerLabel=document.getElementById("playerLabel");
const leaderboardBody=document.getElementById("leaderRows");

let playerName="", correct=0, total=QUESTIONS.length, started=false, elapsed=0, timer;
let leaderboard=[];

function startGame(){
  playerName=playerNameInput.value.trim()||"Guest";
  playerLabel.textContent=playerName;
  nameScreen.style.display="none";
  gameUI.style.display="block";
  resetStats();
}

function resetStats(){
  correct=0; elapsed=0; started=false;
  document.getElementById("scoreBadge").textContent="Score: 0";
  document.getElementById("qProgress").textContent=`Question 0 / ${total}`;
  document.getElementById("timeElapsed").textContent="Time: 00:00";
}

function updateLeaderboard(){
  leaderboard.sort((a,b)=>b.score-a.score);
  leaderboardBody.innerHTML="";
  leaderboard.forEach((p,i)=>{
    leaderboardBody.innerHTML+=`<tr><td>${i+1}</td><td>${p.name}</td><td>${p.score}</td><td>${p.acc}%</td></tr>`;
  });
}

function finishGame(){
  clearInterval(timer);
    const acc = Math.round((correct / total) * 100);
  const score = correct * 5;
  const time = elapsed;

  leaderboard.push({ name: playerName, score, acc });
  updateLeaderboard();

  document.getElementById("sumScore").textContent = score;
  document.getElementById("sumAcc").textContent = acc + "%";
  document.getElementById("sumTime").textContent = time + "s";

  document.getElementById("modal").style.display = "flex";
}

function formatTime(sec) {
  const m = Math.floor(sec / 60).toString().padStart(2, "0");
  const s = (sec % 60).toString().padStart(2, "0");
  return `${m}:${s}`;
}

function startTimer() {
  timer = setInterval(() => {
    elapsed++;
    document.getElementById("timeElapsed").textContent = "Time: " + formatTime(elapsed);
  }, 1000);
}

let qIndex = 0;

function showQuestion() {
  if (qIndex >= QUESTIONS.length) {
    finishGame();
    return;
  }

  const q = QUESTIONS[qIndex];
  const qCard = document.getElementById("qCard");
  document.getElementById("startCard").style.display = "none";
  qCard.style.display = "block";
  document.getElementById("qnum").textContent = `Question ${qIndex + 1}`;
  document.getElementById("qtext").textContent = q.q;
  document.getElementById("qProgress").textContent = `Question ${qIndex + 1} / ${total}`;

  const ch = document.getElementById("choices");
  ch.innerHTML = "";
  q.choices.forEach((c, i) => {
    const div = document.createElement("div");
    div.className = "choice";
    div.innerHTML = `<div class="lbl">${String.fromCharCode(65 + i)}.</div><div>${c}</div>`;
    div.onclick = () => selectChoice(i);
    ch.appendChild(div);
  });

  document.getElementById("progressBar").style.width =
    ((qIndex / total) * 100).toFixed(1) + "%";
}

function selectChoice(i) {
  const q = QUESTIONS[qIndex];
  const choiceDivs = document.querySelectorAll(".choice");
  choiceDivs.forEach((d) => (d.onclick = null));
  if (i === q.answerIndex) {
    correct++;
    choiceDivs[i].classList.add("correct");
  } else {
    choiceDivs[i].classList.add("wrong");
    choiceDivs[q.answerIndex].classList.add("correct");
  }

  document.getElementById("scoreBadge").textContent = `Score: ${correct * 5}`;
  document.getElementById("progressBar").style.width =
    (((qIndex + 1) / total) * 100).toFixed(1) + "%";

  setTimeout(() => {
    qIndex++;
    showQuestion();
  }, 900);
}

document.getElementById("btnPlay").onclick = () => {
  if (!started) {
    started = true;
    qIndex = 0;
    correct = 0;
    elapsed = 0;
    startTimer();
    showQuestion();
  }
};

document.getElementById("btnDone").onclick = () => finishGame();

document.getElementById("btnReset").onclick = () => {
  clearInterval(timer);
  leaderboard = []; // reset leaderboard when refresh or reset
  resetStats();
  updateLeaderboard();
  document.getElementById("qCard").style.display = "none";
  document.getElementById("startCard").style.display = "block";
};

document.getElementById("closeModal").onclick = () => {
  document.getElementById("modal").style.display = "none";
};

startBtn.onclick = startGame;
</script>
</body>
</html>
